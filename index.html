<!DOCTYPE html>
<html>

<head>
    <title>Pointer Bot Detection Test</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            background: #f4f4f4;
        }

        .box {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .bot {
            color: red;
            font-weight: bold;
        }

        .human {
            color: green;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <h2>Pointer Bot Detection Test</h2>

    <div class="box" id="output"></div>

    <script>

        // -----------------------------
        // DEVICE TYPE DETECTION
        // -----------------------------
        function getDeviceType() {
            const ua = navigator.userAgent;
            if (/Mobi|Android|iPhone|iPad/i.test(ua)) {
                return "MOBILE";
            }
            return "DESKTOP";
        }

        // -----------------------------
        // POINTER CAPABILITY DETECTION
        // -----------------------------
        function getPointerCapability() {
            const hasFine = matchMedia("(pointer: fine)").matches;
            const hasCoarse = matchMedia("(pointer: coarse)").matches;

            if (hasFine) return "FINE";
            if (hasCoarse) return "COARSE";
            return "NONE";
        }

        // -----------------------------
        // BOT MISMATCH LOGIC
        // -----------------------------
        function detectPointerMismatchBot() {

            const device = getDeviceType();
            const pointer = getPointerCapability();

            let botReason = null;

            if (device === "MOBILE" && pointer === "FINE") {
                botReason = "MOBILE_FINE_POINTER";
            }

            if (device === "DESKTOP" && pointer !== "FINE") {
                botReason = "DESKTOP_NO_FINE_POINTER";
            }

            return {
                userAgent: navigator.userAgent,
                device,
                pointer,
                touchPoints: navigator.maxTouchPoints,
                botReason
            };
        }

        // RUN TEST
        const result = detectPointerMismatchBot();

        // SHOW IN HTML
        const output = document.getElementById("output");

        output.innerHTML = `
  <p><b>UserAgent:</b> ${result.userAgent}</p>
  <p><b>Device Type:</b> ${result.device}</p>
  <p><b>Primary Pointer:</b> ${result.pointer}</p>
  <p><b>Max Touch Points:</b> ${result.touchPoints}</p>
  <p class="${result.botReason ? 'bot' : 'human'}">
    ${result.botReason ? 'ðŸš© BOT DETECTED: ' + result.botReason : 'âœ… HUMAN LIKELY'}
  </p>
`;

        console.log("Final Result:", result);

    </script>

</body>

</html>